#> ui:smithing/page/init
# UIの初期化

team join Smithing @s
data modify entity @s Items set value [{Slot:0b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:1b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:2b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:3b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:4b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:5b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:6b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:7b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:8b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:9b,id:"glass_bottle",components:{"minecraft:custom_model_data":3001,"minecraft:custom_data":{ui:{item_type:"blank"}},"minecraft:hide_tooltip":{}}},{Slot:11b,id:"glass_bottle",components:{"minecraft:custom_model_data":3001,"minecraft:custom_data":{ui:{item_type:"blank"}},"minecraft:hide_tooltip":{}}},{Slot:12b,id:"glass_bottle",components:{"minecraft:custom_model_data":3005,"minecraft:custom_data":{ui:{item_type:"upgrade"}},"minecraft:item_name":'{"text":"強化","bold":true}',"minecraft:lore":['{"text":"アイテムを一段階強くする。","color":"gray","italic":false}','{"text":"（最大3段階まで強化可能）","color":"gray","italic":false}']}},{Slot:13b,id:"glass_bottle",components:{"minecraft:custom_model_data":3006,"minecraft:custom_data":{ui:{item_type:"combine"}},"minecraft:item_name":'{"text":"合成","bold":true}',"minecraft:lore":['{"text":"素材の合成ステータス効果を","color":"gray","italic":false}','{"text":"装備系のアイテムに継承する。","color":"gray","italic":false}']}},{Slot:14b,id:"glass_bottle",components:{"minecraft:custom_model_data":3007,"minecraft:custom_data":{ui:{item_type:"repair"}},"minecraft:item_name":'{"text":"修理","bold":true}',"minecraft:lore":['{"text":"ツールの耐久値を回復させる。","color":"gray","italic":false}']}},{Slot:15b,id:"glass_bottle",components:{"minecraft:custom_model_data":3001,"minecraft:custom_data":{ui:{item_type:"blank"}},"minecraft:hide_tooltip":{}}},{Slot:16b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:17b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:18b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:19b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:20b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:21b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:22b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:23b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:24b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:25b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}},{Slot:26b,id:"glass_bottle",components:{"minecraft:custom_data":{ui:{item_type:"none"}},"minecraft:hide_tooltip":{}}}]

# 修理に必要なゴールドを取得
    data modify storage ui: ItemData set from storage ui: NewItems[{Slot:10b}].components.minecraft:custom_data
    execute if data storage ui: ItemData.tool run function ui:smithing/repair/item/gold
    execute if score $RepairGold Temporary matches 1.. run item modify entity @s container.14 ui:smithing/repair_gold

# リセット
    scoreboard players reset $ItemRarity Temporary
    scoreboard players reset $ToolGrade Temporary
    scoreboard players reset $Durability Temporary
    scoreboard players reset $RemainingUse Temporary
    scoreboard players reset $RepairGold Temporary
    data remove storage ui: ItemData